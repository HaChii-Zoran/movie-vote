# 🎬 周末选片助手 (Weekend Movie Vote)

> 一个简单、公平且防扯皮的实时电影投票工具 (Web App)。

这个项目旨在解决 5 人小组周末选电影时的“决策困难”问题。它不同于普通的投票器，而是采用了**“加权计分 + 一票否决 (Veto) + 共识优先”**的极客规则，确保选出的电影是大家“最不反感且意愿最高”的最大公约数。

**[👉 点击这里查看在线演示](https://你的用户名.github.io/仓库名/)** *(请将上方链接修改为你部署后的 GitHub Pages 链接)*

![项目截图](https://via.placeholder.com/800x400?text=Please+Upload+Your+Screenshot+Here)
*(建议：部署成功后，截一张带数据的图，替换上面的图片链接)*

---

## ✨ 核心功能

* **☁️ 实时同步**：基于 LeanCloud Serverless 服务，所有人的投票实时更新，无需手动刷新。
* **⚖️ 智能计票**：自动处理 1/2/3 志愿的加权分。
* **🚫 反向保护 (Veto)**：包含“一票否决”机制，保护成员免受“烂片”折磨。
* **📊 自动化决策**：系统自动识别“共识电影”，自动标记“淘汰电影”，并计算最终排名。

---

## 📜 投票与计分规则

本系统内置了以下逻辑，确保公平性：

### 1. 填写规则
每人提交一张选票，包含：
* **第1志愿** (+3分)：最想看的。
* **第2志愿** (+2分)：想看的。
* **第3志愿** (+1分)：也可以接受的。
* **Veto (反向保护)**：(可选) 选一部“绝对不想看”的电影。

### 2. 淘汰机制
* 任意电影如果收到 **≥ 2 张 Veto 票**，直接**淘汰** (显示删除线)，无论分数多高都不再参与评选。

### 3. 获胜判定
系统会按以下优先级排序：
1.  **共识优先**：在未被淘汰的电影中，若有电影被 **≥2 人提名** (进入前三志愿)，则视为“共识圈”。系统会优先在“共识圈”里选最高分的。
2.  **两轮制保底**：如果完全无重合 (每部电影都只有1人提名)，则取总分 **Top 3** 进入第二轮人工投票 (需人工在群里发起)。
3.  **平局处理**：总分相同时，提名人数多者胜出。

---

## 🛠️ 技术栈

* **Frontend**: HTML5, CSS3, Vanilla JavaScript (ES6+)
* **Backend (BaaS)**: LeanCloud (提供数据存储与实时 API)
* **Hosting**: GitHub Pages (静态托管)

---

## 🚀 快速部署指南

如果你想复刻这个项目，请按照以下步骤操作：

### 第一步：准备代码
1.  Clone 本仓库或下载 ZIP 包。
2.  确保 `index.html` 是最新版代码。

### 第二步：配置 LeanCloud (后端)
1.  注册 [LeanCloud 国际版](https://console.leancloud.app/) (推荐，无需域名备案) 或国内版。
2.  创建新应用，进入 **设置 > 应用凭证**，复制 `AppID` 和 `AppKey`。
3.  进入 **数据存储 > 结构化数据**，创建一个新的 Class 叫 **`Ballot`** (首字母大写)。
4.  **⚠️ 关键权限设置**：
    * 点击 `Ballot` 表上方的 **“权限”** 标签。
    * 将 **所有用户 (All Users)** 列的 `add_fields`、`create`、`delete`、`update`、`find` 全部打钩。
    * *注意：这是为了方便无账号投票，生产环境请谨慎使用此宽松权限。*

### 第三步：修改配置
打开 `index.html`，找到 `<script>` 标签开头的配置区域，填入你的信息：

```javascript
// ================= 配置区域 =================
const APP_ID = '粘贴你的AppID';   
const APP_KEY = '粘贴你的AppKey'; 
const SERVER_URL = '[https://你的域名.api.lncldglobal.com](https://你的域名.api.lncldglobal.com)'; // 国际版在后台复制，国内版填绑定域名

### 第四步：上线
1.  将代码 Push 到 GitHub 仓库。
2.  在仓库Setting > Pages中，Source 选择 Deploy from a branch，分支选择 main (或 master)。
3.  保存后等待 2 分钟，即可获得在线链接。
